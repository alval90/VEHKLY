{"ast":null,"code":"var _jsxFileName = \"/Users/alexandervalerian/Informatik/vehkly/frontend/src/components/AddMeal/AddMeal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container, ContainerSize } from '../Container/Container';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Spacer, Spacing } from '../Spacer/Spacer';\nimport { ActionCard } from '../ActionCard/ActionCard';\nimport { MediaCard } from '../MediaCard/MediaCard';\nimport { TextField } from '@mui/material';\nimport { useQuery } from '../../utils/hooks';\nimport { BackButton } from '../BackButton/BackButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AddMeal = () => {\n  _s();\n  let [meals, setMeals] = useState();\n  const [searchInput, setSearchInput] = useState('');\n  const {\n    user\n  } = useAuth();\n  const {\n    year,\n    week\n  } = useParams();\n  const query = useQuery();\n  const navigate = useNavigate();\n  let mockMeals = require('./MockData/meals.json');\n  useEffect(() => {\n    /*if (!user) {\n      navigate(\"/login\");\n    }*/\n    setMeals(mockMeals);\n  }, [mockMeals]);\n  const handleSearchChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n  const addMeal = mealTitle => {\n    // TODO: post meal to db\n    // use year and week url params + query params\n    navigate(-1);\n  };\n  const deleteMeal = mealTitle => {\n    // TODO: delete meal to db\n\n    let updatedMeals = meals === null || meals === void 0 ? void 0 : meals.filter(meal => meal.title !== mealTitle);\n    setMeals(updatedMeals);\n  };\n  const mealCards = meals === null || meals === void 0 ? void 0 : meals.filter(meal => meal.title.toLowerCase().includes(searchInput.toLowerCase())).map(meal => /*#__PURE__*/_jsxDEV(MediaCard, {\n    imagePath: meal.imagePath,\n    imageTitle: meal.title,\n    actionLabel: 'Add',\n    clickEvent: () => addMeal(meal.title),\n    deleteClickEvent: () => deleteMeal(meal.title)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 7\n  }, this));\n  return /*#__PURE__*/_jsxDEV(Container, {\n    size: ContainerSize.Big,\n    children: [/*#__PURE__*/_jsxDEV(Spacer, {\n      size: Spacing.m\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BackButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Meals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Spacer, {\n      size: Spacing.s\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-basic\",\n        label: \"Search\",\n        onChange: handleSearchChange,\n        value: searchInput,\n        variant: \"filled\",\n        style: {\n          width: '300px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Spacer, {\n      size: Spacing.m\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridGap: '30px',\n        gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\n        marginLeft: '38px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(ActionCard, {\n        label: '+ New meal',\n        href: '/newmeal'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), mealCards]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Spacer, {\n      size: Spacing.m\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(AddMeal, \"SROoMvsY6q02e4z09XC5zUpLLeQ=\", false, function () {\n  return [useAuth, useParams, useQuery, useNavigate];\n});\n_c = AddMeal;\nvar _c;\n$RefreshReg$(_c, \"AddMeal\");","map":{"version":3,"names":["React","useEffect","useState","Container","ContainerSize","useAuth","useNavigate","useParams","Spacer","Spacing","ActionCard","MediaCard","TextField","useQuery","BackButton","jsxDEV","_jsxDEV","AddMeal","_s","meals","setMeals","searchInput","setSearchInput","user","year","week","query","navigate","mockMeals","require","handleSearchChange","e","preventDefault","target","value","addMeal","mealTitle","deleteMeal","updatedMeals","filter","meal","title","mealCards","toLowerCase","includes","map","imagePath","imageTitle","actionLabel","clickEvent","deleteClickEvent","fileName","_jsxFileName","lineNumber","columnNumber","size","Big","children","m","s","id","label","onChange","variant","style","width","display","gridGap","gridTemplateColumns","marginLeft","href","_c","$RefreshReg$"],"sources":["/Users/alexandervalerian/Informatik/vehkly/frontend/src/components/AddMeal/AddMeal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container, ContainerSize } from '../Container/Container';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { Spacer, Spacing } from '../Spacer/Spacer';\nimport { ActionCard } from '../ActionCard/ActionCard';\nimport { MediaCard } from '../MediaCard/MediaCard';\nimport { TextField } from '@mui/material';\nimport { useQuery } from '../../utils/hooks';\nimport { BackButton } from '../BackButton/BackButton';\n\nexport interface Meal {\n  title: string;\n  description: string | null;\n  imagePath: string | null;\n  ingredients: Ingredient[];\n}\n\nexport interface Ingredient {\n  title: string;\n  amount: string;\n}\n\nexport const AddMeal: React.FC<{}> = () => {\n  let [meals, setMeals] = useState<Meal[]>();\n  const [searchInput, setSearchInput] = useState('');\n\n  const { user } = useAuth();\n  const { year, week } = useParams();\n  const query = useQuery();\n  const navigate = useNavigate();\n\n  let mockMeals = require('./MockData/meals.json');\n\n  useEffect(() => {\n    /*if (!user) {\n      navigate(\"/login\");\n    }*/\n    setMeals(mockMeals);\n  }, [mockMeals]);\n\n  const handleSearchChange = (e: any) => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n\n  const addMeal = (mealTitle: string) => {\n    // TODO: post meal to db\n    // use year and week url params + query params\n    navigate(-1);\n  };\n\n  const deleteMeal = (mealTitle: string) => {\n    // TODO: delete meal to db\n\n    let updatedMeals = meals?.filter((meal) => meal.title !== mealTitle);\n    setMeals(updatedMeals);\n  };\n\n  const mealCards = meals\n    ?.filter((meal) =>\n      meal.title.toLowerCase().includes(searchInput.toLowerCase())\n    )\n    .map((meal) => (\n      <MediaCard\n        imagePath={meal.imagePath}\n        imageTitle={meal.title}\n        actionLabel={'Add'}\n        clickEvent={() => addMeal(meal.title)}\n        deleteClickEvent={() => deleteMeal(meal.title)}\n      />\n    ));\n\n  return (\n    <Container size={ContainerSize.Big}>\n      <Spacer size={Spacing.m} />\n      <BackButton />\n      <h1>Meals</h1>\n      <Spacer size={Spacing.s} />\n      <div>\n        <TextField\n          id=\"outlined-basic\"\n          label=\"Search\"\n          onChange={handleSearchChange}\n          value={searchInput}\n          variant=\"filled\"\n          style={{ width: '300px' }}\n        />\n      </div>\n      <Spacer size={Spacing.m} />\n      <div\n        style={{\n          display: 'grid',\n          gridGap: '30px',\n          gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\n          marginLeft: '38px'\n        }}\n      >\n        <ActionCard label={'+ New meal'} href={'/newmeal'} />\n        {mealCards}\n      </div>\n      <Spacer size={Spacing.m} />\n    </Container>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}